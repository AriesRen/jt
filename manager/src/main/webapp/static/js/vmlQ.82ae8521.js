(window.webpackJsonp=window.webpackJsonp||[]).push([["vmlQ"],{vmlQ:function(e,t,a){"use strict";a.r(t);var n=a("t3Un");var l={data:function(){return{logs:null,pageCurrent:1,pageCount:0,row:0,pageSize:5,username:"",listLoading:!0}},watch:{},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,function(e,t,a){return Object(n.a)({url:"/logs/logs",method:"get",params:{pageCurrent:e,pageSize:t,username:a}})}(this.pageCurrent,this.pageSize,this.username).then(function(t){console.log(t),e.logs=t.data.records,e.pageCurrent=t.data.pageCurrent,e.pageCount=t.data.pageCount,e.pageSize=t.data.pageSize,e.row=t.data.row,e.listLoading=!1})},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.pageCurrent=e,this.fetchData()},handleDelete:function(e){var t=this;(function(e){return Object(n.a)({url:"/logs/delete",method:"get",params:{id:e}})})(e.id).then(function(e){console.log(e),t.fetchData()})}}},r=a("KHd+"),i=Object(r.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.logs,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"方法",width:"350",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"params",label:"参数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"执行时长",width:"95",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"IP",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdTime",label:"createdTime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.createdTime)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{total:e.row,"page-size":e.pageSize,"current-page":e.pageCurrent,"page-sizes":[5,10,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},[],!1,null,null,null);i.options.__file="index.vue";t.default=i.exports}}]);